/**
 * The following styles get applied both on the front of your site
 * and in the editor.
 *
 * Replace them with your own styles or remove the file completely.
 */

$menu-breakpoint: 1170;

@import '../../scss/buttons-and-links';

.universal-header {
	width: 100%;

	&__inner {
		padding-top: 1.125rem;
		display: flex;
		justify-content: space-between;
		width: 100%;
	}

	&__utility-nav {
		position: relative;
		@media screen and (max-width: #{$menu-breakpoint - 1}px) {
			display: none;
		}

		.search-button-wrapper {
			position: relative;
			.search-slider {
				opacity: 0;
				visibility: hidden;
				pointer-events: none;
				align-items: center;
				justify-content: flex-end;
				font-size: 0.875rem;
				position: absolute;
				top: 50%;
				transform: translateY(-50%);
				right: calc(100% + 0.5rem);

				&.show {
					opacity: 1;
					visibility: visible;
					pointer-events: auto;
					transition: opacity 0.3s ease, visibility 0.3s ease;
				}

				.form-inline {
					width: 320px;

					.btn {
						padding: 0.25rem;
					}
				}
			}
		}

		.search-button {
			&:not([aria-expanded='true']) {
				.hide-when-open {
					display: none;
				}
			}

			&[aria-expanded='true'] {
				.hide-when-closed {
					display: none;
				}
			}
		}
	}

	&__menu-open-button {
		align-items: center;
		color: var(--wp--preset--color--smokey);
		display: flex;
		font-size: 0.75rem;
		font-weight: 600;
		font-variation-settings: 'wght' 550;
		line-height: 1;
		text-transform: uppercase;

		button {
			@include button-passthrough();
			@include button-hover-minimal;
			align-items: center;
			display: flex;
		}

		.search-icon {
			display: flex;
			align-items: center;

			svg {
				bottom: 0.02em;
				display: block;
				position: relative;
				stroke: currentColor;
				width: 1.1rem;
				height: 1.1rem;
			}

			&::before {
				content: '/';
				display: block;
				font-weight: 400;
			}

			svg,
			&::before {
				margin-left: 0.25rem;
			}
		}

		@media screen and (min-width: #{$menu-breakpoint}px) {
			display: none;
		}
	}
}

.main-nav-menu-list {
	--utk-nav-menu--direction: column;
}

.main-menu-wrapper {
	.offcanvas-header {
		.btn-close {
			background-position-x: right;
			font-size: 0.75rem;
			font-weight: 600;
			font-variation-settings: 'wght' 550;
			line-height: 1.1;
			margin-right: 0;
			padding-right: 1.5rem;
			text-transform: uppercase;
			width: auto;

			&:hover {
				transform: scale(1.1);
			}
		}
	}

	.offcanvas-body {
		.form-inline {
			margin: 1.5rem 0 1rem;
		}
	}
}

.menu-search-button {
	background-color: transparent;
	border: none;
}

.utk-nav-menu {
	.collapsible-menu-item {
		a,
		button {
			color: inherit;
			text-decoration: underline;
			text-decoration-color: transparent;

			transition: text-decoration-color 0.3s ease-out;

			&:hover,
			&:focus {
				text-decoration-color: currentColor;
			}
		}

		&:not(:first-of-type),
		> ul {
			position: relative;
			transition: padding 0.3s ease-out;
			padding-top: 0;
			&.collapsing,
			&.show {
				padding-top: 1em;
			}
		}

		ul {
			font-size: 1rem;
		}
	}
}

.search-button {
	@include button-passthrough();
	@include button-hover-minimal;

	display: flex;
	column-gap: 0.4375rem;
}

.search-slider input {
	&:focus {
		outline: Highlight auto 1px;
		outline: -webkit-focus-ring-color auto 1px;
	}
}
